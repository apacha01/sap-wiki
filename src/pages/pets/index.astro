---
import Layout from '@layouts/Layout.astro';
import type { Pet } from '@dtypes/pet.ts';
// import type { API } from '@dtypes/api.ts';
import petsRes from '../../mocks/pets.json';
import ListPet from '@components/ListPet';

// const res = (await fetch('https://sapi-kkff.onrender.com/api/v1/pets').then(res => res.json()).catch(console.error)) as API;

// const pets = res.content as Pet[];
const pets = petsRes as Pet[];
let isError = false;

// if (res.code !== 200) {
// 	isError = true;
// }
---

<Layout title="Pets">
	{
		isError
			? 'There was an error' // ? res.code + res.message + res.description
			: <ListPet pets={pets}></ListPet>
	}
</Layout>